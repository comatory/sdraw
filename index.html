<!doctype html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="manifest" href="manifest.json" />
    <title>sdraw</title>
    <script type="module" src="./index.mjs"></script>
    <link rel="stylesheet" href="./css/main.css" />
    <script>
      function loadServiceWorker() {
        navigator.serviceWorker
          .register("./service-worker.js")
          .then((registration) => {
            console.info(
              `Service worker registered with scope: ${registration.scope}`,
            );
          })
          .catch((error) => {
            console.error(error);
          });
      }

      if (navigator.serviceWorker) {
        loadServiceWorker();
      } else {
        console.warn("Service worker is not supported by this browser");
      }
    </script>
  </head>
  <body>
    <div id="loader"><span id="loader-indicators">...</span></div>
    <canvas id="cursor"> </canvas>
    <video id="cam">Video stream not available</video>
    <main>
      <canvas id="canvas" width="100%" height="auto"> </canvas>
      <section id="panel">
        <section class="panel-row spaced">
          <section id="colors" class="panel-row"></section>
          <section id="global-actions" class="panel-row">
            <button id="clear"><img src="img/buttons/clear.svg" /></button>
            <button id="save"><img src="img/buttons/save.svg" /></button>
            <button id="info"><img src="img/buttons/info.svg" /></button>
          </section>
        </section>
        <section class="panel-row">
          <section id="tools"></section>
          <section id="actions"></section>
        </section>
        <section id="variants" class="panel-row"></section>
      </section>
    </main>
    <dialog id="info-dialog">
      <h3>sdraw</h3>
      <section class="colophon">
        <img
          width="120px"
          height="auto"
          src="img/logo.png"
          alt="sdraw application logo resembling a pine tree"
        />
        <div class="colophon-info">
          <pre>MIT License</pre>
          <pre>Version: 0.1.0</pre>
          <pre>2023</pre>
        </div>
      </section>
      <p>
        Programmed by Ondřej Synáček:
        <a href="https://synacek.org" target="_blank">https://synacek.org</a>
      </p>
      <p>
        Source
        <a href="https://github.com/comatory/sdraw" target="_blank"
          >https://github.com/comatory/sdraw</a
        >
      </p>
      <button id="close-info">Close</button>
    </dialog>
  </body>
</html>
